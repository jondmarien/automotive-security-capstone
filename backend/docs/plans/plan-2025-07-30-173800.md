# RTL-SDR/NFC Integration: Task 6 Plan

## Notes
- Task 6 will implement a demonstration/testing framework for realistic signal validation.
- The `--synthetic` flag must work alongside `--mock` (i.e., only active when both are set).
- Existing mock event generation must remain unchanged when only `--mock` is set.
- Synthetic signal generation and validation framework will only be used when both flags are enabled.
- Updates must be reflected in all relevant docs/specs as implementation progresses.
- Follow all project rules and include docs in @.kiro/steering for implementation.
- Centralize scenario/attack types, key fob frequencies, and modulations in a shared enum/utils file to reduce code duplication and improve maintainability.
- [x] Refactor synthetic event generation: move, rename, and centralize constants as planned.
- All synthetic event generation functions (key fob, replay, jamming, brute force) have been removed from cli_dashboard.py and are now only implemented in cli_dashboard_detection_adapter.py. This avoids duplication and ensures all synthetic logic uses centralized constants/enums.
- Next step: Ensure generate_detection_event uses enums/constants from utils.signal_constants instead of hardcoded values.
- Plan to review/refactor any remaining event generation logic to use centralized enums/constants for consistency.

### Extra Notes:
Here's a summary of what we've accomplished in this conversation:

Synthetic Signal Generation Refactoring
We've successfully completed the refactoring of the synthetic signal generation code:

Centralized Constants:
Created 
backend/utils/signal_constants.py
c:\Users\nucle\Projects\automotive-security-capstone\backend\utils\signal_constants.py
 with key fob frequencies, modulation types, manufacturer parameters, and scenario/attack type enums.
Refactored Synthetic Event Generation:
Renamed 
generate_synthetic_events
 to 
generate_synthetic_event
 (singular) for naming consistency.
Moved all synthetic event generation functions from 
cli_dashboard.py
c:\Users\nucle\Projects\automotive-security-capstone\backend\cli_dashboard.py
 to 
cli_dashboard_detection_adapter.py
.
Updated functions to use centralized constants from 
signal_constants.py
.
Updated Mock Event Generation:
Modified 
generate_mock_events
 in 
cli_dashboard.py
 to accept a 
synthetic
 parameter.
When synthetic=True, it delegates to the synthetic event generator.
When synthetic=False, it uses the standard mock event generation.
Removed Redundant Code:
Removed all synthetic event generation functions from 
cli_dashboard.py
.
Next Steps
For our next chat, we should focus on:

Update 
generate_detection_event
 to use the new enums/constants from utils.signal_constants instead of hardcoded values.
Review and refactor any remaining event generation logic to use centralized enums/constants for consistency.
Continue with Task 6.2: Implement detection accuracy validation.
Proceed to Task 6.3: Create demonstration scenario framework.
I've saved this summary to memory for our next chat. The refactoring has improved code organization with clearer separation of concerns, making the codebase easier to maintain and extend in the future.

Also check the auto-generated memory for more details.

## Task List
- [x] 6. Create Demonstration and Testing Framework with `--synthetic` Flag
  - [x] 6.1 Build test signal generation framework with `--synthetic` flag
    - [x] Implement `--synthetic` CLI flag that works alongside `--mock` flag
    - [x] Ensure backward compatibility with existing mock event generation
    - [x] Create synthetic key fob signal generation with realistic characteristics
    - [x] Implement replay attack simulation using recorded signals
    - [x] Add jamming signal generation for interference testing
    - [x] Build brute force attack simulation scenarios
    - [x] Refactor: Rename `generate_synthetic_events` to `generate_synthetic_event`
    - [x] Refactor: Move `generate_synthetic_event` and all `generate_synthetic_*_attack` helpers to backend/cli_dashboard_detection_adapter.py
    - [x] Refactor: In `generate_mock_events`, delegate to synthetic generator if synthetic flag is set
    - [x] Centralize scenario/attack types and signal constants (frequencies, modulations) in a shared enum or utils file
  - [ ] 6.2 Implement detection accuracy validation
  - [ ] 6.3 Create demonstration scenario framework

## Current Goal
Implement detection accuracy validation